<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mo的个人博客</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.juedigulang.com/"/>
  <updated>2018-01-21T05:56:56.788Z</updated>
  <id>http://www.juedigulang.com/</id>
  
  <author>
    <name>Mo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>js中map的使用</title>
    <link href="http://www.juedigulang.com/2018/01/21/js%E4%B8%ADmap%E4%BD%BF%E7%94%A8/"/>
    <id>http://www.juedigulang.com/2018/01/21/js中map使用/</id>
    <published>2018-01-21T05:56:56.705Z</published>
    <updated>2018-01-21T05:56:56.788Z</updated>
    
    <content type="html"><![CDATA[<h3 id="js中map使用"><a href="#js中map使用" class="headerlink" title="js中map使用"></a>js中map使用</h3><p>HashMap是一种非常使用的、应用广泛的数据类型。代码如下：<br><a id="more"></a><br>    function HashMap(){<br>    this.map = {};<br>    }<br>    HashMap.prototype = {<br>    put : function(key , value){<br>    this.map[key] = value;<br>    },<br>    get : function(key){<br>    if(this.map.hasOwnProperty(key)){<br>    return this.map[key];<br>    }<br>    return null;<br>    },<br>    remove : function(key){<br>    if(this.map.hasOwnProperty(key)){<br>    return delete this.map[key];<br>    }<br>    return false;<br>    },<br>    removeAll : function(){<br>    this.map = {};<br>    },<br>    keySet : function(){<br>    var _keys = [];<br>    for(var i in this.map){<br>    _keys.push(i);<br>    }<br>    return _keys;<br>    }<br>    };<br>    HashMap.prototype.constructor = HashMap;</p><h3 id="hashmap的使用"><a href="#hashmap的使用" class="headerlink" title="hashmap的使用"></a>hashmap的使用</h3><blockquote><p>var hashMap = new HashMap();<br>//向hashmap中存放值<br>hashMap.put(a,b);<br>//从map中取值<br>hashMap.get(a);</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;js中map使用&quot;&gt;&lt;a href=&quot;#js中map使用&quot; class=&quot;headerlink&quot; title=&quot;js中map使用&quot;&gt;&lt;/a&gt;js中map使用&lt;/h3&gt;&lt;p&gt;HashMap是一种非常使用的、应用广泛的数据类型。代码如下：&lt;br&gt;
    
    </summary>
    
      <category term="js" scheme="http://www.juedigulang.com/categories/js/"/>
    
    
      <category term="js、map" scheme="http://www.juedigulang.com/tags/js%E3%80%81map/"/>
    
  </entry>
  
  <entry>
    <title>java导入excel表格</title>
    <link href="http://www.juedigulang.com/2018/01/21/java%E4%B8%ADexcel%E5%AF%BC%E5%85%A5/"/>
    <id>http://www.juedigulang.com/2018/01/21/java中excel导入/</id>
    <published>2018-01-21T05:50:28.074Z</published>
    <updated>2018-01-21T05:55:37.358Z</updated>
    
    <content type="html"><![CDATA[<h3 id="excel表格内容"><a href="#excel表格内容" class="headerlink" title="excel表格内容"></a>excel表格内容</h3><a id="more"></a><p><img src="https://i.imgur.com/6mn4N6c.png" alt=""></p><h3 id="java代码如下："><a href="#java代码如下：" class="headerlink" title="java代码如下："></a>java代码如下：</h3><pre><code>public void aaa(){List&lt;SchoolZcxx&gt; list = new ArrayList&lt;SchoolZcxx&gt;();File file = new File(&quot;d:\\school.xlsx&quot;);InputStream in = null;try {in = new FileInputStream(file);} catch (FileNotFoundException e1) {// TODO Auto-generated catch blocke1.printStackTrace();}ExcelReader&lt;SchoolZcxx&gt; excelReader = new ExcelReader&lt;SchoolZcxx&gt;(0, 3, 0, null, SchoolZcxx.class);try {list = excelReader.read(in);} catch (Exception e) {// TODO Auto-generated catch blocke.printStackTrace();}for (SchoolZcxx schoolZcxx : list) {//封装对象SchoolInfo jbxxPojo = new SchoolInfo();String str = Dzppzb.geocode(schoolZcxx.getDz());if (!StringUtil.isEmpty(str)) {String[] xxx =str.split(&quot; &quot;);if(xxx != null &amp;&amp; xxx.length==2){String x = xxx[0];String y = xxx[1];if (!StringUtil.isEmpty(x) &amp;&amp; !StringUtil.isEmpty(y)) {x = x.substring(0, 10);y = y.substring(0, 9);jbxxPojo.setX(new BigDecimal(x));jbxxPojo.setY(new BigDecimal(y));}}    }jbxxPojo.setXxmc(schoolZcxx.getMc());jbxxPojo.setXxbh(schoolZcxx.dm);if (schoolZcxx.getMc().contains(&quot;武山县&quot;) || schoolZcxx.getDz().contains(&quot;武山县&quot;)) {jbxxPojo.setSzdxzqhmc(&quot;武山县&quot;);jbxxPojo.setSzdxzqhbm(&quot;620524&quot;);}if (schoolZcxx.getMc().contains(&quot;甘谷县&quot;) || schoolZcxx.getDz().contains(&quot;甘谷县&quot;)) {jbxxPojo.setSzdxzqhmc(&quot;甘谷县&quot;);jbxxPojo.setSzdxzqhbm(&quot;620523&quot;);}if (schoolZcxx.getMc().contains(&quot;秦州区&quot;) || schoolZcxx.getDz().contains(&quot;秦州区&quot;)) {jbxxPojo.setSzdxzqhmc(&quot;秦州区&quot;);jbxxPojo.setSzdxzqhbm(&quot;620502&quot;);}if (schoolZcxx.getMc().contains(&quot;麦积区&quot;) || schoolZcxx.getDz().contains(&quot;麦积区&quot;)) {jbxxPojo.setSzdxzqhmc(&quot;麦积区&quot;);jbxxPojo.setSzdxzqhbm(&quot;620503&quot;);}if (schoolZcxx.getMc().contains(&quot;秦安县&quot;) || schoolZcxx.getDz().contains(&quot;秦安县&quot;)) {jbxxPojo.setSzdxzqhmc(&quot;秦安县&quot;);jbxxPojo.setSzdxzqhbm(&quot;620522&quot;);}if (schoolZcxx.getMc().contains(&quot;清水县&quot;) || schoolZcxx.getDz().contains(&quot;清水县&quot;)) {jbxxPojo.setSzdxzqhmc(&quot;清水县&quot;);jbxxPojo.setSzdxzqhbm(&quot;620521&quot;);}if (schoolZcxx.getMc().contains(&quot;张家川&quot;) || schoolZcxx.getDz().contains(&quot;张家川&quot;)) {jbxxPojo.setSzdxzqhmc(&quot;张家川&quot;);jbxxPojo.setSzdxzqhbm(&quot;620525&quot;);}jbxxPojo.setXxlx(&quot;6&quot;);jbxxPojo.setDizhi(schoolZcxx.getDz());jbxxPojo.setXxb(schoolZcxx.tb);this.schoolInfoService.add(jbxxPojo);System.out.println(&quot;$$$$$$$$$$$$$$$$$$$$$$$$&quot;);}System.out.println(&quot;GAME OVER!!!&quot;);}</code></pre><h3 id="用到的工具类如下："><a href="#用到的工具类如下：" class="headerlink" title="用到的工具类如下："></a>用到的工具类如下：</h3><pre><code>package com.cloud.icenter.yyzx.common.util.excel.reader;import java.io.InputStream;import java.lang.reflect.Field;import java.math.BigDecimal;import java.math.BigInteger;import java.util.ArrayList;import java.util.Date;import java.util.List;import java.util.Map;import org.apache.poi.ss.usermodel.Cell;import org.apache.poi.ss.usermodel.Row;import org.apache.poi.ss.usermodel.Sheet;import org.apache.poi.ss.usermodel.Workbook;import com.cloud.icenter.yyzx.common.util.excel.AnnotationFieldUtil;import com.cloud.icenter.yyzx.common.util.excel.ExcelFieldInfo;import com.cloud.icenter.yyzx.common.util.excel.WorkBookUtil;import com.cloud.icenter.yyzx.common.util.excel.annotation.ExcelObject;/*** * Excel读取器*/public class ExcelReader&lt;T&gt; {private Integer startColumn;private Integer endColumn;private Integer startRow;private Integer endRow;private Class&lt;T&gt; clazz;private Map&lt;String, ExcelFieldInfo&gt; fieldMaps;public void setStartColumn(Integer startColumn) {this.startColumn = startColumn;}public void setEndColumn(Integer endColumn) {this.endColumn = endColumn;}public void setStartRow(Integer startRow) {this.startRow = startRow;}public void setEndRow(Integer endRow) {this.endRow = endRow;}/*** Excel数据读取器* * @param startColumn* 起始列（必填，从0开始）* @param endColumn* 终止列（必填）* @param startRow* 起始行 （可以为NULL，从0开始，默认从第0行开始）* @param endRow* 终止行 （可以为NULL）* @param clazz*/public ExcelReader(Integer startColumn, Integer endColumn,Integer startRow, Integer endRow, Class&lt;T&gt; clazz) {this.startColumn = startColumn;this.endColumn = endColumn;this.startRow = startRow;this.endRow = endRow;this.clazz = clazz;this.fieldMaps = AnnotationFieldUtil.fieldMaps(this.clazz);}/*** Excel数据读取器* * @param startColumn* 起始列（必填，从0开始）* @param endColumn* 终止列（必填）* @param startRow* 起始行 （可以为NULL，从0开始，默认从第0行开始）* @param clazz*/public ExcelReader(Integer startColumn, Integer endColumn,Integer startRow, Class&lt;T&gt; clazz) {this(startColumn, endColumn, startRow, null, clazz);}/*** Excel数据读取器* * @param startColumn* 起始列（必填，从0开始）* @param endColumn* 终止列（必填）* @param clazz*/public ExcelReader(Integer startColumn, Integer endColumn, Class&lt;T&gt; clazz) {this(startColumn, endColumn, null, null, clazz);}/*** 读取Excel数据* * @Title read* @Description TODO* @param in* Excel数据流* @return 读取结果* @throws Exception* @date 2015年11月16日-上午9:33:35* @update**/public List&lt;T&gt; read(InputStream in) throws Exception {Workbook hssfWorkbook = WorkBookUtil.createWorkBook(in);List&lt;T&gt; list = new ArrayList&lt;T&gt;();if (null == startColumn) {throw new NullPointerException(&quot;Please set startColumn！&quot;);}if (null == endColumn) {throw new NullPointerException(&quot;Please set endColumn！&quot;);}for (int numSheet = 0; numSheet &lt; hssfWorkbook.getNumberOfSheets(); numSheet++) {Sheet sheet = hssfWorkbook.getSheetAt(numSheet);if (sheet == null) {continue;}int lastRowNum = null != endRow ? endRow : sheet.getLastRowNum();int rowNum = null != startRow ? startRow : 0;if (clazz == List.class) {readToList(sheet, list, lastRowNum, rowNum);} else {readToBean(sheet, list, lastRowNum, rowNum);}}return list;}/*** 读取数据为List&amp;lt;List&amp;lt;Object&amp;gt;&amp;gt;类型* * @Title readToList* @Description TODO* @param sheet* @param list* @param lastRowNum* @param rowNum* @throws Exception* @date 2015年11月16日-上午9:34:12* @update**/@SuppressWarnings(&quot;unchecked&quot;)private void readToList(Sheet sheet, List&lt;T&gt; list, int lastRowNum,int rowNum) throws Exception {for (; rowNum &lt;= lastRowNum; rowNum++) {Row hssfRow = sheet.getRow(rowNum);if (null == hssfRow) {break;}List&lt;Object&gt; inList = new ArrayList&lt;Object&gt;();for (int column = startColumn; column &lt;= endColumn; column++) {Cell cell = hssfRow.getCell(column);String str = WorkBookUtil.getValue(cell);inList.add(str);}list.add((T) inList);}}/*** 读取数据为List&amp;lt;Object&amp;gt;类型,其中Object为通过泛型设置的类型* * @Title readToBean* @Description TODO* @param sheet* @param list* @param lastRowNum* @param rowNum* @throws Exception* @date 2015年11月16日-上午9:35:44* @update**/private void readToBean(Sheet sheet, List&lt;T&gt; list, int lastRowNum,int rowNum) throws Exception {ExcelObject excelObject = clazz.getAnnotation(ExcelObject.class);if (null == excelObject || !excelObject.value()) {return;}for (; rowNum &lt;= lastRowNum; rowNum++) {Row hssfRow = sheet.getRow(rowNum);if (null == hssfRow) {break;}if (WorkBookUtil.rowIsNull(hssfRow, startColumn, endColumn)) {return;}T obj = (T) Class.forName(clazz.getName()).newInstance();int excelColumn = 1;for (int column = startColumn; column &lt;= endColumn; column++) {Cell cell = hssfRow.getCell(column);ExcelFieldInfo excelField = fieldMaps.get(excelColumn++ + &quot;&quot;);String strValue = WorkBookUtil.getValue(cell);if (null == strValue || strValue.trim().length()==0) {continue;}Field field = excelField.getField();Class&lt;?&gt; fieldClazz = field.getType();if (fieldClazz == String.class) {field.set(obj, strValue);} else if (fieldClazz == Integer.class|| fieldClazz == int.class) {field.set(obj, CellDataReader.readInt(strValue));} else if (fieldClazz == short.class|| fieldClazz == Short.class) {field.set(obj, CellDataReader.readShort(strValue));} else if (fieldClazz == long.class || fieldClazz == Long.class) {field.set(obj, CellDataReader.readLong(strValue));} else if (fieldClazz == float.class|| fieldClazz == Float.class) {int decimal = Integer.parseInt(excelField.getExcelField().decimal());field.set(obj, CellDataReader.readFloat(strValue, decimal));} else if (fieldClazz == double.class|| fieldClazz == Double.class) {int decimal = Integer.parseInt(excelField.getExcelField().decimal());field.set(obj, CellDataReader.readDouble(strValue, decimal));} else if (fieldClazz == BigInteger.class) {field.set(obj, CellDataReader.readBigInteger(strValue));} else if (fieldClazz == BigDecimal.class) {int decimal = Integer.parseInt(excelField.getExcelField().decimal());field.set(obj,CellDataReader.readBigDecimal(strValue, decimal));} else if (fieldClazz == Date.class) {String dateFormat = excelField.getExcelField().dateFormat();field.set(obj,CellDataReader.readDate(strValue, dateFormat));}}list.add(obj);}}}</code></pre><h3 id="对应的pojo"><a href="#对应的pojo" class="headerlink" title="对应的pojo"></a>对应的pojo</h3><pre><code>package com.cloud.icenter.yyzx.fzjc.rk.pojo;import com.cloud.icenter.yyzx.common.util.excel.annotation.ExcelField;public class SchoolZcxx {@ExcelField(index = &quot;1&quot;)private String dm;@ExcelField(index = &quot;1&quot;)private String mc;@ExcelField(index = &quot;1&quot;)private String jbxx;@ExcelField(index = &quot;1&quot;)private String address;}</code></pre><h3 id="自定义注解如下"><a href="#自定义注解如下" class="headerlink" title="自定义注解如下"></a>自定义注解如下</h3><pre><code>package com.cloud.icenter.yyzx.common.util.excel.annotation;import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target;@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.FIELD)public @interface ExcelField {/*** Excel列位置* @Title index* @Description TODO* @return* @date 2015年11月11日-下午6:46:03* @update**/String index();/*** 小数位数* @Title decimal* @Description TODO* @return* @date 2015年11月11日-下午6:45:45* @update**/String decimal() default &quot;0&quot;;/*** 日期格式* @Title dateFormat* @Description TODO* @return* @date 2015年11月16日-上午9:24:25* @update**/String dateFormat() default &quot;yyyy-MM-dd&quot;;}</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;excel表格内容&quot;&gt;&lt;a href=&quot;#excel表格内容&quot; class=&quot;headerlink&quot; title=&quot;excel表格内容&quot;&gt;&lt;/a&gt;excel表格内容&lt;/h3&gt;
    
    </summary>
    
      <category term="java" scheme="http://www.juedigulang.com/categories/java/"/>
    
    
      <category term="java" scheme="http://www.juedigulang.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>解决maven编译出现找不到符号问题</title>
    <link href="http://www.juedigulang.com/2018/01/21/maven%E7%BC%96%E8%AF%91%E8%A7%A3%E5%86%B3%E7%AC%A6%E5%8F%B7%E6%89%BE%E4%B8%8D%E5%88%B0%E9%97%AE%E9%A2%98/"/>
    <id>http://www.juedigulang.com/2018/01/21/maven编译解决符号找不到问题/</id>
    <published>2018-01-21T05:40:39.361Z</published>
    <updated>2018-01-21T05:55:31.196Z</updated>
    
    <content type="html"><![CDATA[<h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>搞了半天，Tomcat可以正常启动，就是Maven编译的时候一直出现“找不到符号”，网上到处找方法，说什么执行一下maven clear之类的，根本没用。<br><a id="more"></a><br>于是自己想了想，看到出错的行，是jdk内的代码，并不是额外的jar文件。</p><p>所以初步判断问题出现在jdk上，经过一番查询，发现这个坑人的maven用的是jre，而我配置的项目jdk是JDK，并不是jre。</p><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>所以果断改成jre，再编译，成功！改完不要忘记了update一下项目。<br><img src="https://i.imgur.com/dPTTvSA.png" alt=""><br><img src="https://i.imgur.com/12IGl5s.png" alt=""><br><img src="https://i.imgur.com/X8h5taG.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;问题描述&quot;&gt;&lt;a href=&quot;#问题描述&quot; class=&quot;headerlink&quot; title=&quot;问题描述&quot;&gt;&lt;/a&gt;问题描述&lt;/h3&gt;&lt;p&gt;搞了半天，Tomcat可以正常启动，就是Maven编译的时候一直出现“找不到符号”，网上到处找方法，说什么执行一下maven clear之类的，根本没用。&lt;br&gt;
    
    </summary>
    
      <category term="mysql" scheme="http://www.juedigulang.com/categories/mysql/"/>
    
    
      <category term="mysql" scheme="http://www.juedigulang.com/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://www.juedigulang.com/2018/01/21/java%E9%80%92%E5%BD%92%E4%B8%8E%E5%8F%8D%E9%80%92%E5%BD%92/"/>
    <id>http://www.juedigulang.com/2018/01/21/java递归与反递归/</id>
    <published>2018-01-21T05:33:48.427Z</published>
    <updated>2018-01-21T05:55:24.792Z</updated>
    
    <content type="html"><![CDATA[<hr><p>title: java递归和反向递归<br>tags: mysql<br>categories: mysql</p><h2 id="archives-archives"><a href="#archives-archives" class="headerlink" title="archives: /archives"></a>archives: /archives</h2><h3 id="递归查询树tree结构有两种做法"><a href="#递归查询树tree结构有两种做法" class="headerlink" title="递归查询树tree结构有两种做法"></a>递归查询树tree结构有两种做法</h3><p>第一种，递归查询数据库结构，<br><a id="more"></a><br>第二种，一次性将数据库表中的所有数据查出来，然后再递归查出来的list集合，<br>第一种做法适合数据量较少的tree结构，因为要一直查询数据库数据量大时速度回相对较慢，所以数据量大时建议使用第二种方法，如图1所示是一个常见的树tree结构。图如下：<br><img src="https://i.imgur.com/OSLw7V3.png" alt=""></p><h3 id="反向递归（逆向递归）查询树tree结构根据关键字过滤数据"><a href="#反向递归（逆向递归）查询树tree结构根据关键字过滤数据" class="headerlink" title="反向递归（逆向递归）查询树tree结构根据关键字过滤数据"></a>反向递归（逆向递归）查询树tree结构根据关键字过滤数据</h3><p>大家有么有遇到过这个问题：我想要根据关键字过滤查询出相关数据和它的上级结构，得到图1所示结果，可往往不知道怎么做，查不出上级结构总是得到图3类似的结构，要解决这个比较常见的问题就要用到反向递归的算法，网上我那个网搜不到类似的解决方案，本人一时兴趣来了，做了一套递归和反递归的解决方案，简单易懂，大家可以相互交流一下，图如下：<br><img src="https://i.imgur.com/Jflkbgg.png" alt=""><br><img src="https://i.imgur.com/tgOOwPo.png" alt=""></p><h3 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h3><pre><code>  1. /**   2. * 说明方法描述：将list转为树tree结构   3. *    4. * @param allRrecords   5. * @return   6. * @time 2016年5月10日 下午6:00:35   7. * @author yangdong   8. */    9.public List&lt;Record&gt; useListRecordToTree(List&lt;Record&gt; allRrecords) {    10.     11.List&lt;Record&gt; listParentRecord = new ArrayList&lt;Record&gt;();    12.List&lt;Record&gt; listNotParentRecord = new ArrayList&lt;Record&gt;();    13.// 第一步：遍历allRrecords保存所有数据的uuid用于判断是不是根节点    14.Map&lt;String, String&gt; mapAllUuid = new HashMap&lt;String, String&gt;();    15.Map&lt;String, Record&gt; allRecordMap = new HashMap&lt;String, Record&gt;();    16.for (Record record : allRrecords) {    17.mapAllUuid.put(record.getStr(&quot;uuid&quot;), record.getStr(&quot;uuid&quot;));    18.allRecordMap.put(record.getStr(&quot;uuid&quot;), record);    19.}    20.// 第二步：遍历allRrecords找出所有的根节点和非根节点    21.if (allRrecords != null &amp;&amp; allRrecords.size() &gt; 0) {    22.for (Record record : allRrecords) {    23.if (StringUtil.isBlank(record.getStr(&quot;parent_uuid&quot;))    24.|| !mapAllUuid.containsKey(record.getStr(&quot;parent_uuid&quot;))) {    25.listParentRecord.add(record);    26.} else {    27.listNotParentRecord.add(record);    28.}    29.}    30.}    31.     32.// 第三步： 递归获取所有子节点    33.if (listParentRecord.size() &gt; 0) {    34.for (Record record : listParentRecord) {    35.// 添加所有子级    36.record.set(&quot;childs&quot;, this.getTreeChildRecord(listNotParentRecord, record.getStr(&quot;uuid&quot;)));    37.}    38.}    39.return listParentRecord;    40.}    41.     42./**   43. * 说明方法描述：使list转换为树并根据关键字和节点名称过滤   44. *    45. * @param allRecords 所有节点   46. * @param keywords 要过滤的关键字   47. * @param filterFields 要过滤的字段   48. * @return   49. * @time 2016年5月19日 下午3:27:32   50. * @author yangdong   51. */    52.public List&lt;Record&gt; useListRecordToTreeByKeywords(List&lt;Record&gt; allRecords, String keywords, String... filterFields) {    53.List&lt;Record&gt; listRecord = new ArrayList&lt;Record&gt;();    54.Map&lt;String, Record&gt; allRecordMap = new HashMap&lt;String, Record&gt;();    55.for (Record record : allRecords) {    56.allRecordMap.put(record.getStr(&quot;uuid&quot;), record);    57.}    58.// 遍历allRrecords找出所有的nodeName和关键字keywords相关的数据    59.if (allRecords != null &amp;&amp; allRecords.size() &gt; 0) {    60.if (filterFields.length &gt; 1) {    61.for (Record record : allRecords) {    62.for (String field : filterFields) {    63.// 比较    64.if (record.getStr(field).toLowerCase().indexOf(keywords.toLowerCase()) != -1) {    65.listRecord.add(record);    66.}    67.}    68.}    69.} else {    70.for (Record record : allRecords) {    71.// 比较    72.if (record.getStr(filterFields[0]).toLowerCase().indexOf(keywords.toLowerCase()) != -1) {    73.listRecord.add(record);    74.}    75.}    76.}    77.}    78.// 查找过滤出来的节点和他们的父节点    79.listRecord = this.getSelfAndTheirParentRecord(listRecord, new ArrayList&lt;Record&gt;(),    80.  new HashMap&lt;String, Record&gt;(), allRecordMap);    81.// 将过滤出来的数据变成树tree结构    82.listRecord = this.useListRecordToTree(listRecord);    83.return listRecord;    84.}    85.     86./**   87. * 说明方法描述：递归查询子节点   88. *    89. * @param childList 子节点   90. * @param parentUuid 父节点id   91. * @return   92. * @time 2016年5月10日 下午3:29:35   93. * @author yangdong   94. */    95.private List&lt;Record&gt; getTreeChildRecord(List&lt;Record&gt; childList, String parentUuid) {    96.List&lt;Record&gt; listParentRecord = new ArrayList&lt;Record&gt;();    97.List&lt;Record&gt; listNotParentRecord = new ArrayList&lt;Record&gt;();    98.// 遍历tmpList，找出所有的根节点和非根节点    99.if (childList != null &amp;&amp; childList.size() &gt; 0) {    100.for (Record record : childList) {    101.// 对比找出父节点    102.if (StringUtil.equals(record.getStr(&quot;parent_uuid&quot;), parentUuid)) {    103.listParentRecord.add(record);    104.} else {    105.listNotParentRecord.add(record);    106.}    107.     108.}    109.}    110.// 查询子节点    111.if (listParentRecord.size() &gt; 0) {    112.for (Record record : listParentRecord) {    113.// 递归查询子节点    114.record.set(&quot;childs&quot;, getTreeChildRecord(listNotParentRecord, record.getStr(&quot;uuid&quot;)));    115.}    116.}    117.return listParentRecord;    118.}    119.     120./**   121. * 说明方法描述：递归找出本节点和他们的父节点   122. *    123. * @param parentList 根据关键字过滤出来的相关节点的父节点   124. * @param resultList 返回的过滤出来的节点   125. * @param filterRecordMap 已经过滤出来的节点   126. * @param allRecordMap 所有节点   127. * @return   128. * @time 2016年5月19日 上午9:53:56   129. * @author yangdong   130. */    131.private List&lt;Record&gt; getSelfAndTheirParentRecord(List&lt;Record&gt; parentList, List&lt;Record&gt; resultList,    132. Map&lt;String, Record&gt; filterRecordMap,    133. Map&lt;String, Record&gt; allRecordMap) {    134.// 当父节点为null或者节点数量为0时返回结果，退出递归    135.if (parentList == null || parentList.size() == 0) {    136.return resultList;    137.}    138.// 重新创建父节点集合    139.List&lt;Record&gt; listParentRecord = new ArrayList&lt;Record&gt;();    140.// 遍历已经过滤出来的节点    141.for (Record record : parentList) {    142.     143.String uuid = record.getStr(&quot;uuid&quot;);    144.String parent_uuid = record.getStr(&quot;parent_uuid&quot;);    145.     146.// 如果已经过滤出来的节点不存在则添加到list中    147.if (!filterRecordMap.containsKey(uuid)) {    148.listParentRecord.add(record);// 添加到父节点中    149.filterRecordMap.put(uuid, record);// 添加到已过滤的map中    150.allRecordMap.remove(uuid);// 移除集合中相应的元素    151.resultList.add(record);// 添加到结果集中    152.}    153.     154.// 找出本节点的父节点并添加到listParentRecord父节点集合中，并移除集合中相应的元素    155.if (StringUtil.isNotBlank(parent_uuid)) {    156.Record parentRecord = allRecordMap.get(parent_uuid);    157.if (parentRecord != null) {    158.listParentRecord.add(parentRecord);    159.allRecordMap.remove(parent_uuid);    160.}    161.}    162.     163.}    164.// 递归调用    165.getSelfAndTheirParentRecord(listParentRecord, resultList, filterRecordMap, allRecordMap);    166.     167.return resultList;    168.}  /**  * 说明方法描述：递归查询所有权限  *   * @param keyword  * @param is_deleted  * @return  * @time 2016年5月10日 下午3:47:50  * @author yangdong  */  public List&lt;Record&gt; getRecordByKeywordRecursive(String keyword, String is_deleted) {  // 第一步：查询所有的数据  StringBuffer sql = new StringBuffer(  &quot; select pa.uuid,pa.parent_uuid,pa.author_code,pa.author_name,pa.is_menu,pa.sort_number,pa.is_enable,pa.menu_icon &quot;);  sql.append(&quot;  from s_author pa&quot;);  List&lt;Object&gt; params = new ArrayList&lt;Object&gt;();  sql.append(&quot; where  pa.is_deleted=? &quot;);  params.add(is_deleted);  sql.append(&quot; order by pa.sort_number asc &quot;);  List&lt;Record&gt; allRrecords = Db.use(AppConst.DB_DATASOURCE_MAIN).find(sql.toString(), ParamUtil.listToArray(params));  //第二步：将list变为树tree结构  if (StringUtil.isNotBlank(keyword)) {  return super.useListRecordToTreeByKeywords(allRrecords, keyword, &quot;author_name&quot;);  } else {  return super.useListRecordToTree(allRrecords);  }  }  </code></pre>]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;p&gt;title: java递归和反向递归&lt;br&gt;tags: mysql&lt;br&gt;categories: mysql&lt;/p&gt;
&lt;h2 id=&quot;archives-archives&quot;&gt;&lt;a href=&quot;#archives-archives&quot; class=&quot;headerlink&quot; title=&quot;archives: /archives&quot;&gt;&lt;/a&gt;archives: /archives&lt;/h2&gt;&lt;h3 id=&quot;递归查询树tree结构有两种做法&quot;&gt;&lt;a href=&quot;#递归查询树tree结构有两种做法&quot; class=&quot;headerlink&quot; title=&quot;递归查询树tree结构有两种做法&quot;&gt;&lt;/a&gt;递归查询树tree结构有两种做法&lt;/h3&gt;&lt;p&gt;第一种，递归查询数据库结构，&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>解决MySQL中mysql5中大数据错误：Packet for query is too large ().</title>
    <link href="http://www.juedigulang.com/2018/01/21/Mysql5%E4%B8%AD%E5%A4%A7%E6%95%B0%E6%8D%AE%E9%94%99%E8%AF%AF/"/>
    <id>http://www.juedigulang.com/2018/01/21/Mysql5中大数据错误/</id>
    <published>2018-01-21T05:20:45.645Z</published>
    <updated>2018-01-21T05:55:13.242Z</updated>
    
    <content type="html"><![CDATA[<h3 id="报错信息"><a href="#报错信息" class="headerlink" title="报错信息"></a>报错信息</h3><p>解决MySQL中mysql5中大数据错误：Packet for query is too large ().<br><a id="more"></a></p><blockquote><p>SEVERE: Servlet.service() for servlet [webs] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.TransientDataAccessResourceException: Hibernate flushing: Could not execute JDBC batch update; SQL [update t_article set (省略部分…)author_id=? where id=?];Packet for query is too large (2048 &gt; 1024). You can change this value on the server by setting the max_allowed_packet’ variable.; nested exception is java.sql.BatchUpdateException: Packet for query is too large (1117260 &gt; 1048576). You can change this value on the server by setting the max_allowed_packet’ variable.] with root cause java.sql.BatchUpdateException: Packet for query is too large (1117260 &gt; 1048576). You can change this value on the server by setting the max_allowed_packet’ variable.</p></blockquote><p>开始以为是相应字段的类型设置不正确，超出了字段的最大范围，网上查询后发现是mysql默认加载的数据文件不超过1M，可以通过更改mysql的配置文件my.cnf（Linux，或windows的my.ini）来更改这一默认值，从而达到插入大数据的目的。 </p><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><blockquote><p>MySQL的一个系统参数：max_allowed_packet，其默认值为1048576(1M)，<br>可以先查询一下：show VARIABLES like ‘%max_allowed_packet%’;<br>修改此变量的值：MySQL安装目录下的my.ini文件中的[mysqld]段中的＂max_allowed_packet = 1M＂，如更改为4M(如果没有这行内容，增加一行)，保存，重新启动MySQL服务。现在可以load大于1M的文件了。<br>有时候命令“<br>SET GLOBA Lmax_allowed_packet = 16<em>1024</em>1024”无效，需要使用如下命令：<br>set@@max_allowed_packet=5<em>1024</em>1024</p></blockquote><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>MySQL的一个系统参数：max_allowed_packet，其默认值为1048576(1M)，<br>可以先查询一下：show VARIABLES like ‘%max_allowed_packet%’;<br>修改此变量的值：MySQL安装目录下的my.ini文件中的[mysqld]段中的＂max_allowed_packet = 1M＂，如更改为4M(如果没有这行内容，增加一行)，保存，重新启动MySQL服务。现在可以load大于1M的文件了。<br>有时候命令“<br>SET GLOBA Lmax_allowed_packet = 16<em>1024</em>1024”无效，需要使用如下命令：<br>set@@max_allowed_packet=5<em>1024</em>1024</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;报错信息&quot;&gt;&lt;a href=&quot;#报错信息&quot; class=&quot;headerlink&quot; title=&quot;报错信息&quot;&gt;&lt;/a&gt;报错信息&lt;/h3&gt;&lt;p&gt;解决MySQL中mysql5中大数据错误：Packet for query is too large ().&lt;br&gt;
    
    </summary>
    
      <category term="mysql" scheme="http://www.juedigulang.com/categories/mysql/"/>
    
    
      <category term="mysql" scheme="http://www.juedigulang.com/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>jdk1.6和jdk1.7中比较器的问题</title>
    <link href="http://www.juedigulang.com/2018/01/21/jdk%E6%AF%94%E8%BE%83%E5%99%A8%E9%97%AE%E9%A2%98/"/>
    <id>http://www.juedigulang.com/2018/01/21/jdk比较器问题/</id>
    <published>2018-01-21T05:11:46.166Z</published>
    <updated>2018-01-21T05:55:07.960Z</updated>
    
    <content type="html"><![CDATA[<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>为了统一线上服务器运行环境，将两台服务器的Tomcat6+JDK6升级到Tomcat7+JDK7，<a id="more"></a>本以为很简单的事情，升级后自己验证也没问题，没想到却悲剧了。升级后，过了半小时运营就找过来反馈问题，部分角色无法登陆系统，由于异常日志没有输出，没有找到问题，无奈回滚。今天我们就来说说JDK6升级到JDK7会遇到的坑。本文为了方便搜索，就直接以异常信息作为文章标题了。</p><h3 id="复现"><a href="#复现" class="headerlink" title="复现"></a>复现</h3><p>回滚后，到测试环境按照线上的权限设置，复现改问题，加上error日志输出，输出了异常，这个异常是在类似如下代码中抛出的：</p><pre><code>Collections.sort(list, new Comparator&lt;Integer&gt;() {  @Override  public int compare(Integer o1, Integer o2) {  return o1 &gt; o2 ? 1 : -1;// 错误的方式  }  });</code></pre><h3 id="不修改代码"><a href="#不修改代码" class="headerlink" title="不修改代码"></a>不修改代码</h3><p>那么问题来了。为什么上面代码在JDK6中运行中无问题.而在JDK7中却会抛异常呢？这是因为JDK7底层的排序算法换了，如果要继续使用JDK6的排序算法，可以在JVM的启动参数中加入如下参数：</p><pre><code>-Djava.util.Arrays.useLegacyMergeSort=true </code></pre><p>这样就会照旧使用JDK6的排序算法，在不能修改代码的情况下，解决这个兼容的问题。</p><h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>在我以前的认知中，高版本的JDK是可以兼容之前的代码的，与同事讨论了一番另加搜索了一番，事实证明，JDK6到JDK7确实存在兼容问题（不兼容列表）。在不兼容列表中我们可以找到关于Collections.sort的不兼容说明，如下：</p><pre><code>Area: API: Utilities  Synopsis: Updated sort behavior for Arrays and Collections may throw an IllegalArgumentException  Description: The sorting algorithm used by java.util.Arrays.sort and (indirectly) by java.util.Collections.sort has been replaced.   The new sort implementation may throw an IllegalArgumentException if it detects a Comparable that violates the Comparable contract.   The previous implementation silently ignored such a situation.  If the previous behavior is desired, you can use the new system property, java.util.Arrays.useLegacyMergeSort,   to restore previous mergesort behavior.  Nature of Incompatibility: behavioral  RFE: 6804124  </code></pre><p>描述的意思是说，java.util.Arrays.sort(java.util.Collections.sort调用的也是此方法)方法中的排序算法在JDK7中已经被替换了。如果违法了比较的约束新的排序算法也许会抛出llegalArgumentException异常。JDK6中的实现则忽略了这种情况。那么比较的约束是什么呢？看这里，大体如下：<br><img src="https://i.imgur.com/4NKXCk0.png" alt=""></p><pre><code>sgn(compare(x, y)) == -sgn(compare(y, x))((compare(x, y)&gt;0) &amp;&amp; (compare(y, z)&gt;0)) implies compare(x, z)&gt;0compare(x, y)==0 implies that sgn(compare(x, z))==sgn(compare(y, z)) for all z</code></pre><p>再回过头来看我们开篇有问题的实现：</p><blockquote><p>return x y ? 1 : -1;  </p></blockquote><p>当x == y时，sgn(compare(x, y))  = -1，-sgn(compare(y, x)) = 1，这违背了sgn(compare(x, y)) == -sgn(compare(y, x))约束，所以在JDK7中抛出了本文标题的异常。</p><h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><p>那么现在是否可以盖棺定论了，按照上面的分析来看，使用这种比较方式（return x &gt; y ? 1 : -1;），只要集合或数组中有相同的元素，就会抛出本文标题的异常。实则不然，什么情况下抛出异常，还取决于JDK7底层排序算法的实现，也就是大名鼎鼎的TimSort。后面文章会分析TimSort。本文给出一个会引发该异常的Case，以便有心人共同研究，如下：</p><blockquote><p>Integer[] array =<br>{0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,<br>0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 2, 1, 0, 0, 0, 2, 30, 0, 3};  </p></blockquote><p>在window中，需要在Tomcat中的bin目录里catalina.bat文件中加入这个：<br><img src="https://i.imgur.com/mGdIrbH.png" alt=""><br>在Linux系统中，同样是在bin目录里catalina.sh文件中加入如下：<br><img src="https://i.imgur.com/C7TX3nf.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h3&gt;&lt;p&gt;为了统一线上服务器运行环境，将两台服务器的Tomcat6+JDK6升级到Tomcat7+JDK7，
    
    </summary>
    
      <category term="java" scheme="http://www.juedigulang.com/categories/java/"/>
    
    
      <category term="java" scheme="http://www.juedigulang.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>a系统跳转到b系统伪登录实现</title>
    <link href="http://www.juedigulang.com/2018/01/21/%E4%BC%AA%E7%99%BB%E5%BD%95%E5%AE%9E%E7%8E%B0/"/>
    <id>http://www.juedigulang.com/2018/01/21/伪登录实现/</id>
    <published>2018-01-21T04:56:10.979Z</published>
    <updated>2018-01-21T04:57:19.236Z</updated>
    
    <content type="html"><![CDATA[<h3 id="需求实现"><a href="#需求实现" class="headerlink" title="需求实现"></a>需求实现</h3><p>点击a系统的舆情，直接跳转到b系统的首页，跳过登陆页面，直接跳转到b系统<br><a id="more"></a><br><img src="https://i.imgur.com/TMOBS0q.png" alt=""><br><img src="https://i.imgur.com/3yEdUsg.png" alt=""></p><p>a系统页面代码如下：<br>    <html></html></p><pre><code>&lt;head&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;jquery/jquery-1.8.3.min.js&quot;&gt;&lt;/script&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt;    &lt;a target=&quot;_blank&quot; onclick=&quot;loadInfo();&quot;&gt;舆情&lt;/a&gt;    &lt;!--  &lt;a id = &quot;dwadaw&quot; onclick = &quot;&quot;&gt;adwa&lt;/a&gt; --&gt;&lt;/body&gt;&lt;script type=&quot;text/javascript&quot;&gt; function loadInfo() { //alert(1111111111111111111111111);$.getJSON(&quot;http://localhost:8011/jeecg/loginController.do?checkuser&amp;userNames=bigwise&amp;passWords=123456&amp;userKey=D1B5CC2FE46C4CC983C073BCA897935608D926CD32992B5900&amp;statuss=&apos;1&apos;&quot;, function(data) {   //$.getJSON(&quot;http://localhost:8011/jeecg/loginController.do?checkuser&amp;userNames=bigwise&amp;passWords=123456&amp;statuss=&apos;1&apos;&quot;, function(data) {$(data).each(function(i, item) {console.log(item);//alert(item);if(item.success == true){window.location.href=&apos;http://localhost:8011/jeecg/loginController.do?login&apos;;}   /* $(&quot;#info&quot;).append(&quot;&lt;div&gt;&quot; + item.id + &quot;&lt;/div&gt;&quot; + &quot;&lt;div&gt;&quot; + item.nickname+ &quot;&lt;/div&gt;&quot; +&quot;&lt;div&gt;&quot; + item.content + &quot;&lt;/div&gt;&lt;hr/&gt;&quot;);  */});});}</code></pre><h3 id="b系统后台代码："><a href="#b系统后台代码：" class="headerlink" title="b系统后台代码："></a>b系统后台代码：</h3><p>在登陆后台代码上加上如下代码：</p><pre><code> String one = req.getParameter(&quot;statuss&quot;);if(one != null){String userNames = req.getParameter(&quot;userNames&quot;);String passWords = req.getParameter(&quot;passWords&quot;);String userKey = req.getParameter(&quot;userKey&quot;);user.setPassword(passWords);user.setUserName(userNames);user.setUserKey(userKey);}</code></pre><p>即可</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;需求实现&quot;&gt;&lt;a href=&quot;#需求实现&quot; class=&quot;headerlink&quot; title=&quot;需求实现&quot;&gt;&lt;/a&gt;需求实现&lt;/h3&gt;&lt;p&gt;点击a系统的舆情，直接跳转到b系统的首页，跳过登陆页面，直接跳转到b系统&lt;br&gt;
    
    </summary>
    
      <category term="java" scheme="http://www.juedigulang.com/categories/java/"/>
    
    
      <category term="java" scheme="http://www.juedigulang.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>前台页面配置sql连接</title>
    <link href="http://www.juedigulang.com/2017/11/18/%E5%89%8D%E5%8F%B0%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5/"/>
    <id>http://www.juedigulang.com/2017/11/18/前台页面配置数据库连接/</id>
    <published>2017-11-18T08:45:42.000Z</published>
    <updated>2017-11-18T08:54:08.363Z</updated>
    
    <content type="html"><![CDATA[<p>###<br>在前台页面配置sql的数据库连接，然后将其数据导入到数据库中，页面上的配置如下图所示<br><a id="more"></a><br><img src="https://i.imgur.com/7atapZD.png" alt=""></p><h3 id="前端页面代码如下："><a href="#前端页面代码如下：" class="headerlink" title="前端页面代码如下："></a>前端页面代码如下：</h3><pre><code>&lt;/style&gt;&lt;script type=&quot;text/javascript&quot;    src=&quot;${ctx}/assets/lib/jquery/1.9.1/jquery.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt;    function dochange(dbType) {        $.get(&quot;${ctx}/console/install/getDbInfo&quot;, {            &quot;DbType&quot; : dbType        }, function(data) {            for (var key in data) {                $(&quot;#&quot; + key).val(data[key]);            }        })    }    $(function() {        dochange();        $(&quot;#impl&quot;).click(function() {            var formData = $(&quot;#form1&quot;).serialize();            console.log(formData);            $.post(&quot;${ctx}/console/install/impl&quot;, formData, function(data) {                alert(data);            })        })    })&lt;/script&gt;&lt;/head&gt;&lt;body style=&quot;background-color: #D2D6DE; padding: 50px&quot;&gt;    &lt;h1 align=&quot;center&quot;&gt;        &lt;b&gt;fsm5安装向导&lt;/b&gt;    &lt;/h1&gt;    &lt;div        style=&quot;width: 750px; height: 400px; margin: 0 auto; background-color: #ffffff;&quot;&gt;        &lt;div class=&quot;box&quot;&gt;            &lt;div class=&quot;box-header&quot;&gt;                &lt;h3 class=&quot;box-title&quot;&gt;fsm5安装：填写数据库连接信息。&lt;/h3&gt;            &lt;/div&gt;            &lt;hr&gt;            &lt;div class=&quot;box-body&quot;&gt;                &lt;div class=&gt;                    &lt;h3 class=&quot;box-title&quot;&gt;请在下方填写您的数据库连接信息。如果您不确定，请联系您的服务提供商。&lt;/h3&gt;                &lt;/div&gt;                &lt;form name=&quot;form1&quot; id=&quot;form1&quot;&gt;                    &lt;table style=&quot;width:100%&quot;&gt;                        &lt;tr&gt;                            &lt;td&gt;选择数据库：&lt;/td&gt;                            &lt;td&gt;&lt;select size=&quot;1&quot; name=&quot;DbType&quot; id=&quot;DbType&quot;                                onChange=&quot;dochange(this.value)&quot;&gt;                                    &lt;option value=&quot;mysql&quot;&gt;mysql&lt;/option&gt;                                    &lt;option value=&quot;oracle&quot;&gt;oracle&lt;/option&gt;                                    &lt;option value=&quot;sqlserver&quot;&gt;sqlserver&lt;/option&gt;                                    &lt;option value=&quot;dm&quot;&gt;dm&lt;/option&gt;                            &lt;/select&gt;&lt;/td&gt;                            &lt;td&gt;选择你想用的数据库&lt;/td&gt;                        &lt;/tr&gt;                        &lt;tr&gt;                            &lt;td&gt;数据库驱动：&lt;/td&gt;                            &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;Driver&quot; name=&quot;Driver&quot; value=&quot;&quot;&gt;&lt;/td&gt;                            &lt;td&gt;您的数据库驱动是？&lt;/td&gt;                        &lt;/tr&gt;                        &lt;tr&gt;                            &lt;td&gt;数据库连接：&lt;/td&gt;                            &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;Url&quot; name=&quot;Url&quot; value=&quot;&quot;&gt;&lt;/td&gt;                            &lt;td&gt;您的数据库连接是？&lt;/td&gt;                        &lt;/tr&gt;                        &lt;tr&gt;                            &lt;td&gt;用户名：&lt;/td&gt;                            &lt;td&gt;&lt;input type=&quot;text&quot; id=&quot;User&quot; name=&quot;User&quot; value=&quot;&quot;&gt;&lt;/td&gt;                            &lt;td&gt;您的数据库用户名？&lt;/td&gt;                        &lt;/tr&gt;                        &lt;tr&gt;                            &lt;td&gt;密码：&lt;/td&gt;                            &lt;td&gt;&lt;input type=&quot;password&quot; id=&quot;Password&quot; name=&quot;Password&quot;                                value=&quot;&quot;&gt;&lt;/td&gt;                            &lt;td&gt;您的数据库密码是？&lt;/td&gt;                        &lt;/tr&gt;                    &lt;/table&gt;                &lt;/form&gt;                &lt;br&gt;                &lt;br&gt;            &lt;/div&gt;            &lt;hr&gt;            &lt;!-- /.box-body --&gt;            &lt;div id=&quot;footer&quot; style=&quot;padding-right: 5px&quot;&gt;                &lt;a class=&quot;you1&quot;&gt;&lt;input type=&quot;submit&quot; name=&quot;submit&quot; id=&quot;impl&quot;                    class=&quot;you&quot; value=&quot;初始化数据&quot;                    style=&quot;width:80px; height:30px; background-color: #337ab7;color: #ffffff;&quot;&gt;&lt;/a&gt;            &lt;/div&gt;        &lt;/div&gt;&lt;/body&gt;</code></pre><h3 id="后台代码如下："><a href="#后台代码如下：" class="headerlink" title="后台代码如下："></a>后台代码如下：</h3><pre><code>package com.code.controller;import java.util.HashMap;import java.util.Map;import org.apache.commons.configuration.PropertiesConfiguration;import com.code.core.MyConfig;import com.code.util.SqlImp;import com.jfinal.core.Controller;import com.jfinal.kit.StrKit;public class InstallController extends Controller {    public void index() {        if(MyConfig.installed){            renderText(&quot;已经初始化完成&quot;);            return;        }        render(&quot;install.html&quot;);    }    public void getDbInfo() {        Map&lt;String, String&gt; dbInfo = new HashMap&lt;String, String&gt;();        try {            PropertiesConfiguration myconfig = new PropertiesConfiguration(&quot;myconfig.properties&quot;);            String strDbType = getPara(&quot;DbType&quot;);            if (StrKit.isBlank(strDbType)) {                strDbType = myconfig.getString(&quot;db&quot;);            }            dbInfo.put(&quot;DbType&quot;, strDbType);            dbInfo.put(&quot;Driver&quot;, myconfig.getString(strDbType + &quot;Driver&quot;));            dbInfo.put(&quot;Url&quot;, myconfig.getString(strDbType + &quot;Url&quot;));            dbInfo.put(&quot;User&quot;, myconfig.getString(strDbType + &quot;User&quot;));            dbInfo.put(&quot;Password&quot;, myconfig.getString(strDbType + &quot;Password&quot;));        } catch (Exception e) {            e.printStackTrace();        }        renderJson(dbInfo);    }    public void impl() {        String msg = &quot;数据库脚本初始化成功，请重启中间件进入系统&quot;;        try {            PropertiesConfiguration myconfig = new PropertiesConfiguration(&quot;myconfig.properties&quot;);            String strDbType = getPara(&quot;DbType&quot;);            String strDriver = getPara(&quot;Driver&quot;);            String strUrl = getPara(&quot;Url&quot;);            String strUser = getPara(&quot;User&quot;);            String strPassword = getPara(&quot;Password&quot;);            String str = SqlImp.exec(strDbType,strDriver,strUrl,strUser,strPassword);            if (StrKit.notBlank(str)) {                msg = str;            }            myconfig.setProperty(&quot;db&quot;, strDbType);            myconfig.setProperty(strDbType + &quot;Driver&quot;, strDriver);            myconfig.setProperty(strDbType + &quot;Url&quot;, strUrl);            myconfig.setProperty(strDbType + &quot;User&quot;, strUser);            myconfig.setProperty(strDbType + &quot;Password&quot;, strPassword);            myconfig.save();        } catch (Exception e) {            msg = &quot;操作失败&quot;;            e.printStackTrace();        }        renderText(msg);    }}</code></pre><h3 id="对应的数据库连接如下："><a href="#对应的数据库连接如下：" class="headerlink" title="对应的数据库连接如下："></a>对应的数据库连接如下：</h3><blockquote><p>db=sqlserver</p><p>dmDriver = dm.jdbc.driver.DmDriver<br>dmUrl = jdbc:dm://localhost:5236/fsm4j<br>dmUser = fsm4j<br>dmPassword =123456789</p><p>sqlserverDriver   =net.sourceforge.jtds.jdbc.Driver<br>sqlserverUrl  =jdbc:jtds:sqlserver://localhost:1433;DatabaseName=fsm5<br>sqlserverUser =sa<br>sqlserverPassword =123456</p><p>oracleDriver = oracle.jdbc.driver.OracleDriver<br>oracleUrl = jdbc:oracle:thin:@localhost:1521:xe<br>oracleUser = fsm4j<br>oraclePassword = fsm4j</p><p>mysqlDriver = com.mysql.jdbc.Driver<br>mysqlUrl = jdbc:mysql://192.168.5.231/fsm4j?zeroDateTimeBehavior=convertToNull<br>mysqlUser = root<br>mysqlPassword =password</p><p>devMode = true</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;###&lt;br&gt;在前台页面配置sql的数据库连接，然后将其数据导入到数据库中，页面上的配置如下图所示&lt;br&gt;
    
    </summary>
    
      <category term="java" scheme="http://www.juedigulang.com/categories/java/"/>
    
    
      <category term="sql" scheme="http://www.juedigulang.com/tags/sql/"/>
    
  </entry>
  
  <entry>
    <title>将java调用百度地址匹配接口获取经纬度坐标</title>
    <link href="http://www.juedigulang.com/2017/11/18/%E8%B0%83%E7%94%A8%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9D%80%E5%8C%B9%E9%85%8D%E6%8E%A5%E5%8F%A3%E5%92%8C%E8%8E%B7%E5%8F%96%E7%BB%8F%E7%BA%AC%E5%BA%A6%E5%9D%90%E6%A0%87/"/>
    <id>http://www.juedigulang.com/2017/11/18/调用百度地址匹配接口和获取经纬度坐标/</id>
    <published>2017-11-18T08:22:15.000Z</published>
    <updated>2017-11-18T08:53:50.853Z</updated>
    
    <content type="html"><![CDATA[<p>做项目中经常要调用 百度地图，遇到要根据坐标得到地址名称，或根据名称匹配得到经纬度坐标，所以提取出来写了两个通用方法。<br>需要依赖 json.jar 包。</p><p>代码如下：<br><a id="more"></a></p><pre><code>/** * 地址匹配 * @author  * */public class AddressParse {/** * 正向地址匹配接口 * 根据xy获取所在省市县 * @param xy * @return */ public static Map geodecode(String xy){String sUrl=&quot;http://api.map.baidu.com/geocoder/v2/?ak=8926feb9ef0a93c41c13b6103bf4dfa6&amp;location=&quot;+xy + &quot;&amp;output=json&amp;pois=0&quot;; String address=&quot;&quot;; StringBuffer str = new StringBuffer(); Map resultMap=new HashMap(); try {   java.net.URL url = new java.net.URL(sUrl); BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream(),&quot;utf-8&quot;)); String line; while ((line = in.readLine()) != null) { str.append(line); } in.close();if (str.equals(&quot;&quot;) || str == null) {System.err.println(&quot;百度服务无返回&quot;);return null;}System.out.println(str.toString());JSONObject jsonobj = null;try {jsonobj = JSONObject.fromObject(str.toString());JSONObject result = jsonobj.getJSONObject(&quot;result&quot;);// 获取对象JSONObject addressComponent = result.getJSONObject(&quot;addressComponent&quot;);String province = addressComponent.getString(&quot;province&quot;);resultMap.put(&quot;province&quot;,province);String city = addressComponent.getString(&quot;city&quot;);resultMap.put(&quot;city&quot;,city);String district = addressComponent.getString(&quot;district&quot;);resultMap.put(&quot;district&quot;,district);} catch (Exception e) {e.printStackTrace();System.out.println(&quot;此坐标获取不到省份：&quot;+xy);} } catch (Exception e) {   e.printStackTrace();   }   return resultMap;} /**  * 逆向匹配接口  * 根据地址名称，匹配得到经纬度坐标  * @param addr  * @return  */public static String geocode(String addr){String xyStr=&quot;&quot;;addr=URLEncoder.encode(addr);StringBuffer str = new StringBuffer();String lng=&quot;&quot;;String lat=&quot;&quot;;try {//System.out.println(&quot;http://api.map.baidu.com/geocoder?address=&quot;+addr+&quot;&amp;output=json&quot;);String sUrl=&quot;http://api.map.baidu.com/geocoder/v2/?address=&quot;+addr+&quot;&amp;&amp;output=json&amp;ak=SgntTWnUw65ysdPSghbs27noTxOuK88O&quot;;java.net.URL url = new java.net.URL(sUrl);//java.net.URL url = new java.net.URL(&quot;http://api.map.baidu.com/?qt=gc&amp;wd=&quot;+addr+&quot;&amp;cn=%E5%85%A8%E5%9B%BD&amp;ie=utf-8&amp;oue=0&amp;res=api&amp;callback=BMap._rd._cbk96117&quot;);BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));String line;while ((line = in.readLine()) != null) {str.append(line);}in.close();JSONObject dataJson=null;dataJson =JSONObject.fromObject(str.toString());JSONObject result=dataJson.getJSONObject(&quot;result&quot;);JSONObject location=result.getJSONObject(&quot;location&quot;);lng =location.getDouble(&quot;lng&quot;)+&quot;&quot;;lat =location.getDouble(&quot;lat&quot;)+&quot;&quot;;xyStr= lng+&quot; &quot;+lat;} catch (Exception e) {lng=&quot;&quot;;lat=&quot;&quot;;}return xyStr;}public static void main(String [] args){String xy = AddressParse.geocode(&quot;成都市成华区建设路颐和家园7栋2801&quot;);System.out.println(xy);Map address = AddressParse.geodecode(&quot;40.033534,116.313289&quot;);System.out.println(address);}}</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;做项目中经常要调用 百度地图，遇到要根据坐标得到地址名称，或根据名称匹配得到经纬度坐标，所以提取出来写了两个通用方法。&lt;br&gt;需要依赖 json.jar 包。&lt;/p&gt;
&lt;p&gt;代码如下：&lt;br&gt;
    
    </summary>
    
      <category term="java" scheme="http://www.juedigulang.com/categories/java/"/>
    
    
      <category term="java" scheme="http://www.juedigulang.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>将标准sql语句导入到数据库中</title>
    <link href="http://www.juedigulang.com/2017/11/18/%E5%B0%86%E6%A0%87%E5%87%86%E7%9A%84sql%E8%84%9A%E6%9C%AC%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    <id>http://www.juedigulang.com/2017/11/18/将标准的sql脚本导入数据库/</id>
    <published>2017-11-18T08:22:15.000Z</published>
    <updated>2017-11-18T08:54:24.213Z</updated>
    
    <content type="html"><![CDATA[<h3 id="将转换为标准的sql文件导入到数据库中"><a href="#将转换为标准的sql文件导入到数据库中" class="headerlink" title="将转换为标准的sql文件导入到数据库中"></a>将转换为标准的sql文件导入到数据库中</h3><a id="more"></a><pre><code>/** * 将标准sql脚本导入本地数据库，导入前需清空数据库 *  */public class SqlImp {    static Logger logger = Logger.getLogger(SqlImp.class);    public static String exec(String db,String driver,String url,String user,String password) {        String str = &quot;&quot;;        try {            String jdbcUrl = url;            Class.forName(driver);            Connection conn = DriverManager.getConnection(jdbcUrl, user, password);            ScriptRunner runner = new ScriptRunner(conn);            Writer result = new StringWriter();            PrintWriter printWriter = new PrintWriter(result);            // runner.setLogWriter(printWriter);            runner.setErrorLogWriter(printWriter);            runner.setAutoCommit(true);            runner.setStopOnError(false);            // 构建流集合            Vector&lt;InputStream&gt; vector = new Vector&lt;InputStream&gt;();            InputStream standard = new FileInputStream(PathKit.getWebRootPath() + &quot;/WEB-INF/dbsql/&quot;+db+&quot;.sql&quot;);            // InputStream testdata = new            // FileInputStream(PathKit.getWebRootPath() + &quot;/doc/testdata.sql&quot;);            vector.addElement(standard);            // vector.addElement(testdata);            Enumeration&lt;InputStream&gt; enu = vector.elements();            // 合并流            SequenceInputStream sis = new SequenceInputStream(enu);            InputStreamReader isr = new InputStreamReader(sis, &quot;utf-8&quot;);            Reader reader = new BufferedReader(isr);            runner.runScript(reader);            str = result.toString();        }catch (IOException e) {            e.printStackTrace();        }catch (ClassNotFoundException e) {            logger.info(e.getMessage());            str=&quot;数据库驱动错误&quot;;        }catch (SQLException e) {            logger.info(e.getMessage());            str=&quot;数据库连接错误&quot;;        }         return str;    }    public static String stringToHexString(String strPart) {String hexString = &quot;&quot;;for (int i = 0; i &lt; strPart.length(); i++) {int ch = (int) strPart.charAt(i);String strHex = Integer.toHexString(ch); hexString = hexString + strHex;}return hexString;}    /**     * 执行sql文件     *      * @return     */    public static String exec() {        String str = &quot;&quot;;        PropertiesConfiguration myconfig;        try {            myconfig = new PropertiesConfiguration(&quot;myconfig.properties&quot;);            String db = myconfig.getString(&quot;db&quot;);            String jdbcUrl = myconfig.getString(db + &quot;Url&quot;);            exec(db, jdbcUrl, myconfig.getString(db + &quot;Driver&quot;), myconfig.getString(db + &quot;User&quot;), myconfig.getString(db + &quot;Password&quot;));        } catch (ConfigurationException e) {            e.printStackTrace();        }        return str;    }    public static void main(String[] args) {        MyConfig mc = new MyConfig();        mc.initConsole();        String str = exec();        System.out.println(str);    }}</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;将转换为标准的sql文件导入到数据库中&quot;&gt;&lt;a href=&quot;#将转换为标准的sql文件导入到数据库中&quot; class=&quot;headerlink&quot; title=&quot;将转换为标准的sql文件导入到数据库中&quot;&gt;&lt;/a&gt;将转换为标准的sql文件导入到数据库中&lt;/h3&gt;
    
    </summary>
    
      <category term="java" scheme="http://www.juedigulang.com/categories/java/"/>
    
    
      <category term="sql" scheme="http://www.juedigulang.com/tags/sql/"/>
    
  </entry>
  
  <entry>
    <title>处理sql为标准sql</title>
    <link href="http://www.juedigulang.com/2017/11/18/%E5%B0%86sql%E5%A4%84%E7%90%86%E4%B8%BA%E6%A0%87%E5%87%86%E7%9A%84sql%E8%84%9A%E6%9C%AC/"/>
    <id>http://www.juedigulang.com/2017/11/18/将sql处理为标准的sql脚本/</id>
    <published>2017-11-18T08:16:48.000Z</published>
    <updated>2017-11-18T08:54:34.539Z</updated>
    
    <content type="html"><![CDATA[<h3 id="将mysql数据库使用navcat导出后处理为标准的sql脚本"><a href="#将mysql数据库使用navcat导出后处理为标准的sql脚本" class="headerlink" title="将mysql数据库使用navcat导出后处理为标准的sql脚本"></a>将mysql数据库使用navcat导出后处理为标准的sql脚本</h3><a id="more"></a><pre><code>/** * 将navicat导出的mysql数据库脚本处理为标准脚本 */public class StandardSql {    public static void make() {        try {            String str = FileUtils.readFileToString(new File(PathKit.getWebRootPath() + &quot;/src/main/webapp/WEB-INF/dbsql/fsm5.sql&quot;), &quot;utf-8&quot;);            str = str.replaceAll(&quot;`&quot;, &quot;&quot;).replaceAll(&quot;([ \t]+)longtext([ \t,]*)&quot;, &quot; clob $2&quot;).replaceAll(&quot;ENGINE=InnoDB DEFAULT CHARSET=utf8&quot;, &quot;&quot;)                    .replaceAll(&quot;DROP TABLE IF EXISTS ([^;]*);&quot;, &quot;-- DROP TABLE $1&quot;).replaceAll(&quot;SET FOREIGN_KEY_CHECKS=0;&quot;, &quot;&quot;).replaceAll(&quot;/\\*([^\\*]+)\\*/&quot;, &quot;&quot;);            //视图处理            str=str.replaceAll(&quot;DROP VIEW IF EXISTS ([^;]*);&quot;, &quot;-- DROP VIEW $1&quot;).replaceAll(&quot;ALGORITHM=UNDEFINED DEFINER=root@% SQL SECURITY DEFINER &quot;, &quot;&quot;);            // 注释处理            str = str.replaceAll(&quot;COMMENT=&apos;([^&apos;]+)&apos;;&quot;, &quot;;\r\n -- $1&quot;).replaceAll(&quot;COMMENT &apos;([^&apos;]+)&apos;,&quot;, &quot;, -- $1&quot;);            // 处理整形            str = str.replaceAll(&quot; int(\\(\\d+\\)) &quot;, &quot; int &quot;);            //替换\r\n\&quot;            str = str.replaceAll(&quot;\\x5c\\x72&quot;, &quot;\&quot;&quot;).replaceAll(&quot;\\x5c\\x6e&quot;, &quot;&quot;).replaceAll(&quot;\\x5c\\x22&quot;, &quot;\&quot;&quot;);            System.out.println(str);            String mysql=str.replaceAll(&quot;([ \t]+)clob([ \t,]*)&quot;, &quot; longtext $2&quot;);            FileUtils.writeStringToFile(new File(PathKit.getWebRootPath() + &quot;/src/main/webapp/WEB-INF/dbsql/mysql.sql&quot;), mysql, &quot;utf-8&quot;);            String oracle=str.replaceAll(&quot;\\x5c\\x27&quot;, &quot;\\&apos;\\&apos;&quot;);            FileUtils.writeStringToFile(new File(PathKit.getWebRootPath() + &quot;/src/main/webapp/WEB-INF/dbsql/oracle.sql&quot;), oracle, &quot;utf-8&quot;);            String sqlserver=str.replaceAll(&quot;([ \t]+)clob([ \t,]*)&quot;, &quot; text $2&quot;).replaceAll(&quot;\\x5c\\x27&quot;, &quot;\\&apos;\\&apos;&quot;);            FileUtils.writeStringToFile(new File(PathKit.getWebRootPath() + &quot;/src/main/webapp/WEB-INF/dbsql/sqlserver.sql&quot;), sqlserver, &quot;utf-8&quot;);            String dm=str.replaceAll(&quot;\\x5c\\x27&quot;, &quot;\\&apos;\\&apos;&quot;);            FileUtils.writeStringToFile(new File(PathKit.getWebRootPath() + &quot;/src/main/webapp/WEB-INF/dbsql/dm.sql&quot;), dm, &quot;utf-8&quot;);        } catch (Exception e) {            e.printStackTrace();        }    }    public static void main(String[] args) {        make();    }}  </code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;将mysql数据库使用navcat导出后处理为标准的sql脚本&quot;&gt;&lt;a href=&quot;#将mysql数据库使用navcat导出后处理为标准的sql脚本&quot; class=&quot;headerlink&quot; title=&quot;将mysql数据库使用navcat导出后处理为标准的sql脚本&quot;&gt;&lt;/a&gt;将mysql数据库使用navcat导出后处理为标准的sql脚本&lt;/h3&gt;
    
    </summary>
    
      <category term="java" scheme="http://www.juedigulang.com/categories/java/"/>
    
    
      <category term="sql" scheme="http://www.juedigulang.com/tags/sql/"/>
    
  </entry>
  
  <entry>
    <title>JFinal和DataTasbles实现增删改</title>
    <link href="http://www.juedigulang.com/2017/11/18/datatables%E5%A2%9E%E5%88%A0%E6%94%B9/"/>
    <id>http://www.juedigulang.com/2017/11/18/datatables增删改/</id>
    <published>2017-11-18T07:51:11.000Z</published>
    <updated>2017-11-18T08:55:03.833Z</updated>
    
    <content type="html"><![CDATA[<p>下面记录下个人在使用过程中的一些难点，顺带一些没有解决的问题。先看下插件的页面效果：<br><img src="https://i.imgur.com/FxDoZ8F.png" alt=""><br><a id="more"></a><br>如果仅仅作为表格的载体，其实有很多插件可以选择。我更看重的是它的编辑功能，后台为维护更多的是对单跳数据进行操作，具体场景是客服和客户 1V1的交流，而dataTables对于单条数据的编辑，是相当不错的，具体来说，采用bootstrap的模态窗口（插件自动生成）实现了修改功能。 对于开发人员来说，省去了另写编辑页面的繁琐。 </p><p>话不多说，下面慢慢粘代码以及效果图。 </p><p>对于一个和后台交互的插件，最重要其实就两件事情，需要什么样的数据格式，提交给后台的又是怎样的数据格式，搞清楚这两点，其实就没什么了。 </p><p>dataTables支持很多数据源，官方有详细介绍，项目采用了轻量级的json数据进行传输，以下是插件填充表格时所需的数据格式：<br><img src="https://i.imgur.com/vcPgDLZ.png" alt=""></p><p>对于增删改查，dataTable默认传给后台的数据相当蛋疼，这里费了不少心思，最后重新封装了下数据格式，先看一下默认的数据格式：<br><img src="https://i.imgur.com/GliHauJ.png" alt=""></p><p>想要看懂上面的数据，还需要知道一个知识点，如果想使用dataTables的编辑功能，返回数据中，需要包括”DT_RowId”这个键，这个键值对需要放在每一行的数据中，充当表格的主键，当然，重复也没关系，这就是让人困惑的地方； </p><p>有了这个知识点，在看编辑数据时，默认的数据格式，这些都是键值对，对于键的命名，action表示操作行为，包括 remove,edit,create三种键值，支持自定义，详细的可以参考官方文档；剩下的便是每个单元格的表示，“data[row1] [accountId]”中，data是固定的，row1是选中行DT_RowId的值，accountId是选中行列的别称，关于列名和json数据源 键名的匹配，以下会有详细代码。 </p><p>看懂这个之后，再去思考后台如何拿数据，后台不可能去遍历request中的所有参数，所以比较好的方法就是在前台二次封装这些数据，通过对json数据的重新封装，即可，以下是个人的封装方法：<br>javaScript代码：<br>    ajax: {<br>        url:”/charge-manage/individualMember/edit”,<br>        data:function(data){<br>        var result={};<br>        for(var i in data.data){<br>        var result=data.data[i];<br>        result.DT_RowId=i;<br>        result.action=data.action;<br>        console.log(result);<br>        }<br>        return result;<br>        },<br>    },  </p><p>经过这样的封装，参数类型如下：<br><img src="https://i.imgur.com/7lUiKTX.png" alt=""></p><p>这样后台就方便拿参数进行操作了。 </p><p>解决了数据流向问题，在看页面本身的问题，表格列名如何与数据源匹配，这个比较简单，代码如下：<br>js代码如下：<br>    $(‘#member’).DataTable( {<br>    dom: “Bfrtip”,<br>    ajax:”/charge-manage/individualMember/getMember?”+”phoneNum=”+phoneNum,<br>    columns:[{data:”memberCode”},<br>             {data:”accountId”},<br>             {data:”phoneNum”},<br>             {data:”password”},<br>             {data:”lastLoginTime”}<br>             ],<br>    select:true,<br>       buttons: [<br>            { extend: “create”, editor: editor },<br>            { extend: “edit”,   editor: editor },<br>            { extend: “remove”, editor: editor }]<br>   } );</p><p>columns集合中的顺序，对应表格列的顺序，data的值，对应json数据源中的键；<br>以下是表格的实际图形： </p><p>编辑操作有自己的操作对象，也就是上面buttons栏引用的，代码如下：<br>js代码如下：<br>        var editor = new $.fn.dataTable.Editor( {<br>        ajax: {<br>    url:”/charge-manage/individualMember/edit”,<br>    data:function(data){<br>    var result={};<br>    for(var i in data.data){<br>    var result=data.data[i];<br>    result.DT_RowId=i;<br>    result.action=data.action;<br>    console.log(result);<br>    }<br>    return result;<br>    },<br>    },  </p><pre><code> fields: [{          label: &quot;会员编码:&quot;,          name: &quot;memberCode&quot;      }, {          label: &quot;账户编码:&quot;,          name: &quot;accountId&quot;      },{          label: &quot;手机号:&quot;,          name: &quot;phoneNum&quot;      },{          label: &quot;密码:&quot;,          name: &quot;password&quot;                          },{          label: &quot;最后登录时间:&quot;,          name: &quot;lastLoginTime&quot;                         }],  table: &quot;#member&quot;  </code></pre><p> });</p><p>fields集合中，label值是模态窗口对应的名称，细心的同学可以看到加了冒号，name对应向后台传入参数的键名。<br>下面是该模态的实际图片，再次强调，这玩意是自动生成的<br><img src="https://i.imgur.com/G2Dc1Hr.png" alt="">  </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;下面记录下个人在使用过程中的一些难点，顺带一些没有解决的问题。先看下插件的页面效果：&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/FxDoZ8F.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="jfinal" scheme="http://www.juedigulang.com/categories/jfinal/"/>
    
    
      <category term="jfinal、datatables" scheme="http://www.juedigulang.com/tags/jfinal%E3%80%81datatables/"/>
    
  </entry>
  
  <entry>
    <title>JFinal和datatales-editor增删改</title>
    <link href="http://www.juedigulang.com/2017/11/18/jfinal%E5%92%8Cdatatables-editor/"/>
    <id>http://www.juedigulang.com/2017/11/18/jfinal和datatables-editor/</id>
    <published>2017-11-18T07:37:15.000Z</published>
    <updated>2017-11-18T08:54:51.063Z</updated>
    
    <content type="html"><![CDATA[<h3 id="页面js代码如下："><a href="#页面js代码如下：" class="headerlink" title="页面js代码如下："></a>页面js代码如下：</h3><a id="more"></a><pre><code>editor = new $.fn.dataTable.Editor( {            ajax: {                url:&quot;${ctx}/console/job/dtAction?job.orgID=&quot;+orgID,                  data:function(data){                    var result = {};                    for(var i in data.data){                      //封装json的格式                         var result=data.data[i];                         result.DT_Rowid=i;                         result.action=data.action;                         console.log(result);                          $.each(result,function (index, value) {                             //console.log(index);                             if(index!=&quot;action&quot; &amp;&amp; index!=&quot;DT_Rowid&quot;){                                 modifyJosnKey(result,index,&quot;job.&quot;+index);                             }                         })                    }                    return result;                },            },            table: &quot;#example&quot;,            idSrc:&quot;id&quot;,            fields: [ {                    label: &quot;主键&quot;,                    name:  &quot;id&quot;,                    type:  &quot;hidden&quot;,                }, {                    label: &quot;岗位名称&quot;,                    name:  &quot;jobname&quot;                }, {                    label: &quot;岗位描述&quot;,                    name:  &quot;jobdesc&quot;,                },{                    label: &quot;排序&quot;,                    name:  &quot;sortid&quot;,                }            ],            i18n: {                create: {                    button: &quot;新建&quot;,                    title:  &quot;新建&quot;,                    submit: &quot;保存&quot;                },                edit: {                    button: &quot;编辑&quot;,                    title:  &quot;编辑&quot;,                    submit: &quot;保存&quot;                },                remove: {                    button: &quot;删除&quot;,                    title:  &quot;删除&quot;,                    submit: &quot;删除&quot;,                    confirm: {                        _: &quot;您是不是一定希望删除%d行吗?&quot;,                        1: &quot;您是不是一定希望删除1行吗?&quot;                    }                },                error: {                    system: &quot;发生错误,请联系管理员&quot;                },                datetime: {                    previous: &apos;上一个&apos;,                    next:     &apos;下一个&apos;,                    months:   [ &apos;一月&apos;, &apos;二月&apos;, &apos;三月&apos;, &apos;四月&apos;, &apos;五月&apos;, &apos;六月&apos;, &apos;七月&apos;, &apos;八月&apos;, &apos;九月&apos;, &apos;十月&apos;, &apos;十一月&apos;, &apos;十二月&apos; ],                    weekdays: [ &apos;周一&apos;, &apos;周二&apos;, &apos;周三&apos;, &apos;周四&apos;, &apos;周五&apos;, &apos;周六&apos;, &apos;周日&apos; ]                }            }        } );        table = $(&apos;#example&apos;).DataTable( {              language: {                  &quot;sProcessing&quot;: &quot;处理中...&quot;,                  &quot;sLengthMenu&quot;: &quot;显示 _MENU_ 项结果&quot;,                  &quot;sZeroRecords&quot;: &quot;没有匹配结果&quot;,                  &quot;sInfo&quot;: &quot;显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项&quot;,                  &quot;sInfoEmpty&quot;: &quot;显示第 0 至 0 项结果，共 0 项&quot;,                  &quot;sInfoFiltered&quot;: &quot;(由 _MAX_ 项结果过滤)&quot;,                  &quot;sInfoPostFix&quot;: &quot;&quot;,                  &quot;sEmptyTable&quot;: &quot;表中数据为空&quot;,                  &quot;sLoadingRecords&quot;: &quot;载入中...&quot;,                  &quot;sInfoThousands&quot;: &quot;,&quot;,                  &quot;oPaginate&quot;: {                      &quot;sFirst&quot;: &quot;首页&quot;,                      &quot;sPrevious&quot;: &quot;上页&quot;,                      &quot;sNext&quot;: &quot;下页&quot;,                      &quot;sLast&quot;: &quot;末页&quot;                  },                  &quot;oAria&quot;: {                      &quot;sSortAscending&quot;: &quot;: 以升序排列此列&quot;,                      &quot;sSortDescending&quot;: &quot;: 以降序排列此列&quot;                  }              },              searching:false,              dom: &apos;&lt;&quot;dt-panelmenu clearfix&quot;Bfr&gt;t&lt;&quot;dt-panelfooter clearfix&quot;ip&gt;&apos;,              ajax: &quot;${ctx}/console/job/dtAction?orgID=&quot;+orgID,              columns: [                    { data: &quot;jobname&quot;, className: &quot;center&quot; },                  { data: &quot;jobdesc&quot;, className: &quot;center&quot; },                  { data: &quot;updatetime&quot;, className: &quot;center&quot; }              ],              select: true,              buttons: [                        { extend: &quot;create&quot;, editor: editor },                        { extend: &quot;edit&quot;,   editor: editor },                        { extend: &quot;remove&quot;, editor: editor }              ]           } );        $(&quot;#tree&quot;).fancytree({              source:${orgs},            icons: false, // Display node icons.            clickFolderMode: 2, // 1:activate, 2:expand, 3:activate and expand, 4:activate (dblclick expands)            activate: function(event, data) {                orgID=data.node.data.id;                //console.log(orgID);                //console.log(table);                //console.log(table.context[0]._editor.s.ajax.url);                table.context[0]._editor.s.ajax.url=&quot;${ctx}/console/job/dtAction?job.orgID=&quot;+orgID;                table.ajax.url(&quot;${ctx}/console/job/dtAction?orgID=&quot;+orgID).load();//再次加载            }        });</code></pre><h3 id="后台java代码如下："><a href="#后台java代码如下：" class="headerlink" title="后台java代码如下："></a>后台java代码如下：</h3><pre><code>public void dtAction() {    String action = getPara(&quot;action&quot;, &quot;&quot;);    switch (action) {    case &quot;create&quot;:        Job job = getModel(Job.class);        User user = getSessionAttr(&quot;User&quot;);        job.set(&quot;insertuserid&quot;, user.getStr(&quot;username&quot;));        job.set(&quot;updateuserid&quot;, user.getStr(&quot;username&quot;));        service.save(job);        JSONObject json = new JSONObject();        json.put(&quot;data&quot;, job);        //Map map1 = new HashMap();        //map1.put(&quot;data&quot;, job);        renderJson(json);        break;    case &quot;edit&quot;:        Job job1 = getModel(Job.class);        service.update(job1);        Map map2 = new HashMap();        map2.put(&quot;data&quot;, job1);        renderJson(map2);        break;    case &quot;remove&quot;:        Job job2 = getModel(Job.class);        job2.delete();        renderJson();        break;    default:        String orgID = getPara(&quot;orgID&quot;);        List&lt;Job&gt; jobs = Job.dao.find(&quot;select * from t_job where orgid=?&quot;, orgID);        Map map = new HashMap();        map.put(&quot;data&quot;, jobs);        renderJson(map);        break;    }    return;}</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;页面js代码如下：&quot;&gt;&lt;a href=&quot;#页面js代码如下：&quot; class=&quot;headerlink&quot; title=&quot;页面js代码如下：&quot;&gt;&lt;/a&gt;页面js代码如下：&lt;/h3&gt;
    
    </summary>
    
      <category term="jfinal" scheme="http://www.juedigulang.com/categories/jfinal/"/>
    
    
      <category term="jfinal、datatables-editor" scheme="http://www.juedigulang.com/tags/jfinal%E3%80%81datatables-editor/"/>
    
  </entry>
  
  <entry>
    <title>乱码工具判断工具</title>
    <link href="http://www.juedigulang.com/2017/11/03/%E4%B9%B1%E7%A0%81%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    <id>http://www.juedigulang.com/2017/11/03/乱码工具类/</id>
    <published>2017-11-03T08:37:11.000Z</published>
    <updated>2017-11-03T08:57:56.618Z</updated>
    
    <content type="html"><![CDATA[<p>乱码，指的是“由于本地计算机在用文本编辑器打开源文件时，使用了不相应字符集而造成部分或所有字符无法被阅读的一系列字符。”，造成其结果的原因是多种多样的。<br><a id="more"></a></p><h3 id="乱码工具类代码如下："><a href="#乱码工具类代码如下：" class="headerlink" title="乱码工具类代码如下："></a>乱码工具类代码如下：</h3><pre><code>import java.util.regex.Matcher;import java.util.regex.Pattern;/**  * @author  * @version  * 说明 判断中文字符串是否乱码 */public class ChineseUtil {/**  * @author mo   * @version   * 说明 判断是否是中文 */private static boolean isChinese(char c) {  Character.UnicodeBlock ub = Character.UnicodeBlock.of(c);  if (ub == Character.UnicodeBlock.CJK_UNIFIED_IDEOGRAPHS  || ub == Character.UnicodeBlock.CJK_COMPATIBILITY_IDEOGRAPHS  || ub == Character.UnicodeBlock.CJK_UNIFIED_IDEOGRAPHS_EXTENSION_A|| ub == Character.UnicodeBlock.GENERAL_PUNCTUATION  || ub == Character.UnicodeBlock.CJK_SYMBOLS_AND_PUNCTUATION  || ub == Character.UnicodeBlock.HALFWIDTH_AND_FULLWIDTH_FORMS) {  return true;  }  return false;  }  /**  * @author mo   * @version   * 说明 判断是否乱码 */public static boolean isMessyCode(String strName) {  Pattern p = Pattern.compile(&quot;\\s*|\t*|\r*|\n*&quot;);  Matcher m = p.matcher(strName);  String after = m.replaceAll(&quot;&quot;);  String temp = after.replaceAll(&quot;\\p{P}&quot;, &quot;&quot;);  char[] ch = temp.trim().toCharArray();  float chLength = 0 ;  float count = 0;  for (int i = 0; i &lt; ch.length; i++) {  char c = ch[i];  if (!Character.isLetterOrDigit(c)) {  if (!isChinese(c)) {  count = count + 1;  }  chLength++;   }  }  float result = count / chLength ;  if (result &gt; 0.4) {  return true;  } else {  return false;  }  }}</code></pre><p>将上面的工具类放入带到项目中，在需要引用的项目中引入这个工具类即可   </p><pre><code>String zgbm = request.getParameter(&quot;zgbm&quot;);        if(ChineseUtil.isMessyCode(zgbm)){            try {                zgbm = new String(zgbm.getBytes(&quot;ISO8859-1&quot;),&quot;UTF-8&quot;);            } catch (UnsupportedEncodingException e) {                // TODO Auto-generated catch block                e.printStackTrace();            }        }</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;乱码，指的是“由于本地计算机在用文本编辑器打开源文件时，使用了不相应字符集而造成部分或所有字符无法被阅读的一系列字符。”，造成其结果的原因是多种多样的。&lt;br&gt;
    
    </summary>
    
      <category term="java" scheme="http://www.juedigulang.com/categories/java/"/>
    
    
      <category term="乱码" scheme="http://www.juedigulang.com/tags/%E4%B9%B1%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>码云和github公钥的配置</title>
    <link href="http://www.juedigulang.com/2017/11/03/%E7%A0%81%E4%BA%91%E5%85%AC%E9%92%A5%E9%85%8D%E7%BD%AE/"/>
    <id>http://www.juedigulang.com/2017/11/03/码云公钥配置/</id>
    <published>2017-11-03T07:56:49.233Z</published>
    <updated>2017-11-03T08:18:38.521Z</updated>
    
    <content type="html"><![CDATA[<h3 id="用户名和邮箱地址的使用"><a href="#用户名和邮箱地址的使用" class="headerlink" title="用户名和邮箱地址的使用"></a>用户名和邮箱地址的使用</h3><p>用户名和邮箱地址是本地git客户端的一个变量，不随git库而改变。<br>每次commit都会用用户名和邮箱纪录。<br>github的contributions统计就是按邮箱来统计的</p><a id="more"></a><h3 id="查看用户名和邮箱的地址"><a href="#查看用户名和邮箱的地址" class="headerlink" title="查看用户名和邮箱的地址"></a>查看用户名和邮箱的地址</h3><pre><code>$ git config user.name$ git config user.email</code></pre><h3 id="设置用户名和邮箱地址"><a href="#设置用户名和邮箱地址" class="headerlink" title="设置用户名和邮箱地址"></a>设置用户名和邮箱地址</h3><pre><code>$ git config --global user.name &quot;username&quot;$ git config --global user.email &quot;email&quot;</code></pre><h3 id="生成sshKey"><a href="#生成sshKey" class="headerlink" title="生成sshKey"></a>生成sshKey</h3><p>在git命令行中，输入命令： cd ~/.ssh，来检测是否生成过key,没有生成过key，会有相关信息提示；然后输入命令： ssh-keygen -t rsa -C “邮箱地址”，按下回车键；然后根据返回的信息，找到.ssh目录下的两个文件；</p><pre><code>cat ~/.ssh/id_rsa.pub# ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC6eNtGpNGwstc....</code></pre><h3 id="添加后在终端中输入"><a href="#添加后在终端中输入" class="headerlink" title="添加后在终端中输入"></a>添加后在终端中输入</h3><pre><code>ssh -T git@gitee.com</code></pre><p>若返回<br>    Welcome to Gitee.com, yourname!</p><p>则代表添加成功</p><h3 id="github添加是同样的流程"><a href="#github添加是同样的流程" class="headerlink" title="github添加是同样的流程"></a>github添加是同样的流程</h3>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;用户名和邮箱地址的使用&quot;&gt;&lt;a href=&quot;#用户名和邮箱地址的使用&quot; class=&quot;headerlink&quot; title=&quot;用户名和邮箱地址的使用&quot;&gt;&lt;/a&gt;用户名和邮箱地址的使用&lt;/h3&gt;&lt;p&gt;用户名和邮箱地址是本地git客户端的一个变量，不随git库而改变。&lt;br&gt;每次commit都会用用户名和邮箱纪录。&lt;br&gt;github的contributions统计就是按邮箱来统计的&lt;/p&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://www.juedigulang.com/categories/hexo/"/>
    
    
      <category term="ssh公钥" scheme="http://www.juedigulang.com/tags/ssh%E5%85%AC%E9%92%A5/"/>
    
  </entry>
  
  <entry>
    <title>Node.js安装</title>
    <link href="http://www.juedigulang.com/2017/11/02/Nodejs%E5%AE%89%E8%A3%85/"/>
    <id>http://www.juedigulang.com/2017/11/02/Nodejs安装/</id>
    <published>2017-11-02T08:03:22.927Z</published>
    <updated>2017-11-01T07:54:04.481Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Node-js简介"><a href="#Node-js简介" class="headerlink" title="Node.js简介"></a>Node.js简介</h3><p>简单的说 Node.js 就是运行在服务端的 JavaScript。Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。Node.js 使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。Node.js 的包管理器 npm，是全球最大的开源库生态系统。<br><a id="more"></a></p><h3 id="下载Node-js"><a href="#下载Node-js" class="headerlink" title="下载Node.js"></a>下载Node.js</h3><p>打开官网下载链接:<a href="https://nodejs.org/en/download/" target="_blank" rel="external">https://nodejs.org/en/download/</a><br><img src="https://i.imgur.com/2YWZz1q.png" alt=""></p><h3 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h3><p>1、下载完成后，双击“node-v6.9.2-x64.msi”，开始安装Node.js<br><img src="https://i.imgur.com/CdBixyY.png" alt=""><br>2、点击Next按钮<br><img src="https://i.imgur.com/iFdaq6p.png" alt=""><br>3、勾选复选框，点击【Next】按钮<br><img src="https://i.imgur.com/NBpoDyf.png" alt=""><br>4、修改好目录后，点击【Next】按钮<br><img src="https://i.imgur.com/BFvWQwF.png" alt=""><br><img src="https://i.imgur.com/JlV4gQH.png" alt=""><br>5、安装完后点击【Finish】按钮完成安装<br><img src="https://i.imgur.com/U4Ufq9j.png" alt=""><br>6、至此Node.js已经安装完成，可以先进行下简单的测试安装是否成功了，后面还要进行环境配置<br>在键盘按下【win+R】键，输入cmd，然后回车，打开cmd窗口<br><img src="https://i.imgur.com/PccF3DO.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Node-js简介&quot;&gt;&lt;a href=&quot;#Node-js简介&quot; class=&quot;headerlink&quot; title=&quot;Node.js简介&quot;&gt;&lt;/a&gt;Node.js简介&lt;/h3&gt;&lt;p&gt;简单的说 Node.js 就是运行在服务端的 JavaScript。Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。Node.js 使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。Node.js 的包管理器 npm，是全球最大的开源库生态系统。&lt;br&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://www.juedigulang.com/categories/hexo/"/>
    
    
      <category term="hexo、node.js" scheme="http://www.juedigulang.com/tags/hexo%E3%80%81node-js/"/>
    
  </entry>
  
  <entry>
    <title>个人博客</title>
    <link href="http://www.juedigulang.com/2017/11/02/Mo/"/>
    <id>http://www.juedigulang.com/2017/11/02/Mo/</id>
    <published>2017-11-02T08:03:22.927Z</published>
    <updated>2017-11-15T12:59:15.619Z</updated>
    
    <content type="html"><![CDATA[<pre><code>我的第一篇个人博客</code></pre><p>欢迎来到我的个人小屋，以后会不定时更新博客</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;pre&gt;&lt;code&gt;我的第一篇个人博客
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;欢迎来到我的个人小屋，以后会不定时更新博客&lt;/p&gt;

      
    
    </summary>
    
      <category term="杂谈" scheme="http://www.juedigulang.com/categories/%E6%9D%82%E8%B0%88/"/>
    
    
      <category term="死肥宅" scheme="http://www.juedigulang.com/tags/%E6%AD%BB%E8%82%A5%E5%AE%85/"/>
    
  </entry>
  
  <entry>
    <title>使用hexo+码云搭建个人博客</title>
    <link href="http://www.juedigulang.com/2017/11/02/hexo%E5%AE%89%E8%A3%85/"/>
    <id>http://www.juedigulang.com/2017/11/02/hexo安装/</id>
    <published>2017-11-02T08:03:22.911Z</published>
    <updated>2017-11-18T08:58:28.862Z</updated>
    
    <content type="html"><![CDATA[<h3 id="使用工具介绍"><a href="#使用工具介绍" class="headerlink" title="使用工具介绍"></a>使用工具介绍</h3><p>1、码云 Pages：码云 Pages 是一个免费的静态网页托管服务，您可以使用码云 Pages 托管博客、项目官网等静态网页。这样就不用购买服务器和域名了，如果您使用过 Github Pages 那么您会很快上手使用码云的Pages服务。这里使用码云上的Pages 而不是用Github Pages，主要原因就是在国内没有VPN的话。。。你懂得！还有就是支持国产！链接：<a href="https://git.oschina.net/" target="_blank" rel="external">https://git.oschina.net/</a><br><a id="more"></a><br>2、Hexo：Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。使用者只需要专注于写博客而不需要关注网站是如何生成的。而且还有丰富的博客主题可以选择！链接：<a href="https://hexo.io/zh-cn/（ps：这是国外网站，翻墙吧少年，需要自由门" target="_blank" rel="external">https://hexo.io/zh-cn/（ps：这是国外网站，翻墙吧少年，需要自由门</a> 翻墙软件可以在博客中联系我哦）</p><h3 id="搭建环境"><a href="#搭建环境" class="headerlink" title="搭建环境"></a>搭建环境</h3><p>Node.js安装</p><blockquote><p>参考：<a href="http://www.runoob.com/nodejs/nodejs-install-setup.html（ps：如果没有VPN的用户最好切换一下npm的源，不然后续的步骤可能会让你想砸电脑，安装完后，在命令窗口执行下面代码）" target="_blank" rel="external">http://www.runoob.com/nodejs/nodejs-install-setup.html（ps：如果没有VPN的用户最好切换一下npm的源，不然后续的步骤可能会让你想砸电脑，安装完后，在命令窗口执行下面代码）</a></p></blockquote><pre><code>npm config set registry http://registry.cnpmjs.org #切换npm为淘宝镜像</code></pre><p>Git安装</p><blockquote><p>参考<a href="http://www.runoob.com/git/git-install-setup.html" target="_blank" rel="external">http://www.runoob.com/git/git-install-setup.html</a></p></blockquote><p>Hexo安装。（ ps：安装完Node.js和Git之后不需要配置些什么，只需要安装成功就是了，如果想明白原理的话可以深入的学习。）</p><p>如果您的电脑中已经安装上述必备程序，那么恭喜您！接下来只需要使用 npm 即可完成 Hexo 的安装。打开命令窗口输入下面代码：</p><pre><code>npm install -g hexo-cli</code></pre><p>安装成功后输入hexo 如果得到下面这个结果，恭喜你！安装成功！<br><img src="https://i.imgur.com/knj5ef9.png" alt=""></p><p>Hexo的常用命令说明：</p><blockquote><p>参考：<a href="https://hexo.io/zh-cn/docs/commands.html" target="_blank" rel="external">https://hexo.io/zh-cn/docs/commands.html</a></p></blockquote><h3 id="本地运行Hexo"><a href="#本地运行Hexo" class="headerlink" title="本地运行Hexo"></a>本地运行Hexo</h3><p>安装 Hexo 完成后，请依次执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。将<folder> 替换成项目存放的文件夹目录，</folder></p><pre><code>hexo init &lt;folder&gt;cd &lt;folder&gt;npm installhexo generate   </code></pre><p>新建完成后，指定文件夹的目录如下：</p><p><img src="https://i.imgur.com/TxNmAPZ.png" alt=""></p><p>进行到这步后就可以先在本地运行下，看看效果了。执行下面命令：</p><pre><code>cd &lt;folder&gt; #切换到项目目录下npm install       #install before start blogginghexo server #运行本地服务</code></pre><p>浏览器输入<a href="http://localhost:4000就可以看到效果。如下：" target="_blank" rel="external">http://localhost:4000就可以看到效果。如下：</a></p><p><img src="https://i.imgur.com/0orsKgO.png" alt=""></p><h3 id="修改Hexo的主题"><a href="#修改Hexo的主题" class="headerlink" title="修改Hexo的主题"></a>修改Hexo的主题</h3><p>当然，上面运行的只是Hexo官方默认的主题配置效果，想要个性一点？，下面我们就将他改造成自己想要的个性主题。</p><p>Hexo的主题都是一些前端民间高手写的模版，可以在官方收录的主题中去挑选：<a href="https://hexo.io/themes/" target="_blank" rel="external">https://hexo.io/themes/</a></p><p>看上一个主题后点击下图位置，进入下载主题文件。如下图：</p><p><img src="https://i.imgur.com/9prhX8U.png" alt=""></p><p>主题下载完成后，将主题文件解压到Hexo项目的thems文件夹下面（ps:我这里的项目目录是在桌面的Hexo文件夹里面。）</p><p><img src="https://i.imgur.com/Owv5y5K.png" alt=""></p><p>接下来就是修改Hexo的配置文件_config.yml，将里面theme 对应的值改为之前下载的主题的文件夹名字，本文里面下载的主题文件夹名字为hexo-theme-smackdown-master。</p><p><img src="https://i.imgur.com/oUoij99.png" alt=""></p><p>注意：这里“：”后面必须要有一个空格，而且这个空格要在英文输入法下，不然会报一些稀奇古怪的错。</p><p>按照之前步骤本地重新运行后，如下图：</p><p><img src="https://i.imgur.com/1PYd8n8.png" alt=""></p><p>关于Hexo中_config.yml 文件的其他配置，大家可以参考官方的文档，这里就不多赘述了：</p><pre><code>文档链接 https://hexo.io/zh-cn/docs/configuration.html</code></pre><p>下载的每个主题中，有一个配置文件，名字也叫_config.yml，这里大家千万不要和之前Hexo根目录下的_config.yml搞混淆了，这里面配置的主要是些与主题相关的东西，比如一些文章阅读量，多说插件，cnzz站长工具等等的配置信息。一般里面也都有注释，这里就不赘述了，不懂得可以在我的博客问我。</p><p>一些主题在GitHub上面也都有主题安装的一些文档，写的都很详细。推荐一个主题的文档，结合官方的文档看完之后，基本上也就明白了。</p><pre><code>推荐一个主题的文档https://github.com/yscoder/hexo-theme-indigo/wiki</code></pre><h3 id="编写博客文章"><a href="#编写博客文章" class="headerlink" title="编写博客文章"></a>编写博客文章</h3><p>如果你使用过MarkDown 来写博客文章的话，接下来就简单多了，没使用过也没关系，推荐大家一个编辑工具马克飞象 链接：<a href="https://maxiang.io/，在编辑器里面写好文章后，复制或另存为.md文件" target="_blank" rel="external">https://maxiang.io/，在编辑器里面写好文章后，复制或另存为.md文件</a>, 与普通的.md文件不同 要在文件开头添加下面代码</p><pre><code>title: #文章标题date: #文章日期tags: #文章标签categories: #文章分类---</code></pre><p>在.md文件的开头添加上面代码，是为了让Hexo框架在生成网页的时候，设置相应的参数。例如下图所示：<br><img src="https://i.imgur.com/r3ofBm7.png" alt=""></p><p>将写好的.md文件放入Hexo项目的source 目录下的_posts 文件夹中，可以看到里面有个hello-world.md 文件，这就是默认的文章。</p><p>重新在本地启动项目，访问就可以看到之前添加的文章。</p><h3 id="生成静态Html文件"><a href="#生成静态Html文件" class="headerlink" title="生成静态Html文件"></a>生成静态Html文件</h3><p>现在只能在本地启动项目然后通过本地地址访问博客网站，下面我们就可以利用Hexo生成静态Html，很简单，只需要在命令窗口执行下面代码：</p><pre><code>cd &lt;folder&gt; #切换到项目目录下hexo generate   #生成静态文件到项目根目录的public文件夹中</code></pre><p>发布静态Html文件到码云 Pages上</p><p>注册一个码云帐号，并创建一个项目。如下图：<br><img src="https://i.imgur.com/oo9ylK4.png" alt=""></p><p>创建完项目后得到项目的Https的地址后面要用。地址获取如下图<br><img src="https://i.imgur.com/pvFwdCT.png" alt=""></p><p>这里借用一个插件来帮助我们完成代码上传的工作，安装 hexo-deployer-git。安装代码如下</p><pre><code>npm install hexo-deployer-git --save#把public里面生成的文件推上到码云上。</code></pre><p>配置项目根目录_config.yml 文件，修改deploy 的值，如下图：</p><p><img src="https://i.imgur.com/Pye8eMq.png" alt=""></p><p>修改完后在命令窗口执行下面命令：<br>    cd <folder> #切换到项目目录下<br>    hexo deploy #一键部署功能</folder></p><p>之后会弹出一个对话框，输入码云的帐号密码。</p><p>部署成功之后，登录码云，查看之前创建的项目中出现了本地项目中public 文件夹中的文件，这时候代表之前的部署是成功的。</p><p>然后如下图，启动码云的pages功能：<br><img src="https://i.imgur.com/5pFYcZR.png" alt=""></p><p>访问链接<br><img src="https://i.imgur.com/Os6lpWc.png" alt=""></p><p>这时候就看到之前和本地启动一样的效果了。博客部署完成，在这之后，只需要每次用马克飞象写好文章后，放入Hexo项目的source 目录下的_posts 文件夹中，在按照之前步骤更新博客就OK了。还可以随时切换博客的主题哦！</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;使用工具介绍&quot;&gt;&lt;a href=&quot;#使用工具介绍&quot; class=&quot;headerlink&quot; title=&quot;使用工具介绍&quot;&gt;&lt;/a&gt;使用工具介绍&lt;/h3&gt;&lt;p&gt;1、码云 Pages：码云 Pages 是一个免费的静态网页托管服务，您可以使用码云 Pages 托管博客、项目官网等静态网页。这样就不用购买服务器和域名了，如果您使用过 Github Pages 那么您会很快上手使用码云的Pages服务。这里使用码云上的Pages 而不是用Github Pages，主要原因就是在国内没有VPN的话。。。你懂得！还有就是支持国产！链接：&lt;a href=&quot;https://git.oschina.net/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://git.oschina.net/&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://www.juedigulang.com/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://www.juedigulang.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://www.juedigulang.com/2017/11/02/hello-world/"/>
    <id>http://www.juedigulang.com/2017/11/02/hello-world/</id>
    <published>2017-11-02T08:03:22.911Z</published>
    <updated>2017-10-27T08:08:10.515Z</updated>
    
    <content type="html"><![CDATA[<h3 id="创建一个文件"><a href="#创建一个文件" class="headerlink" title="创建一个文件"></a>创建一个文件</h3><p>$ hexo new “My New Post”</p><h3 id="运行本地服务"><a href="#运行本地服务" class="headerlink" title="运行本地服务"></a>运行本地服务</h3><p>$ hexo server</p><h3 id="生成静态文件"><a href="#生成静态文件" class="headerlink" title="生成静态文件"></a>生成静态文件</h3><p>$ hexo generate</p><h3 id="部署到服务器"><a href="#部署到服务器" class="headerlink" title="部署到服务器"></a>部署到服务器</h3><p>$ hexo deploy</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;创建一个文件&quot;&gt;&lt;a href=&quot;#创建一个文件&quot; class=&quot;headerlink&quot; title=&quot;创建一个文件&quot;&gt;&lt;/a&gt;创建一个文件&lt;/h3&gt;&lt;p&gt;$ hexo new “My New Post”&lt;/p&gt;
&lt;h3 id=&quot;运行本地服务&quot;&gt;&lt;a href=&quot;
      
    
    </summary>
    
    
  </entry>
  
</feed>
